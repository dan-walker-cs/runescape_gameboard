@layer base, difficulty, state, warp, live;

@layer base {
    /* Make the tile component fill its parent wrapper */
    :host {
        display: block;
        width: 100%;
        height: 100%;
    }

    /* The click target */
    .tile {
        position: relative;
        width: 100%;
        height: 100%;

        stroke: #333; 
        stroke-width: 3;
        stroke-linejoin: round;

        fill: #e6f3ff;

        cursor: pointer;
        clip-path: polygon(25% 0, 75% 0, 100% 50%, 75% 100%, 25% 100%, 0 50%);
        transition: fill 500ms, stroke 500ms;
    }

    /* SVG fills the box defined by the boardâ€™s wrapper (width/height) */
    .hex {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        display: block;
    }

    /* Icon centered within the hex */
    .tile__icon {
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        width: 60%;
        height: 60%;
        display: flex;
        align-items: center;
        justify-content: center;
        pointer-events: none;
    }

    .tile__icon img {
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
    }
}

@layer difficulty {
    .tile.diff--none .tile.warp--l1 .hex {
    }

    .tile.diff--easy .hex .stroke {
        fill: rgb(185, 255, 185);
    }

    .tile.diff--med .hex .stroke {
        fill: rgb(250, 250, 149);
    }

    .tile.diff--hard .hex .stroke {
        fill: rgb(255, 190, 190);
    }
}

@layer state {
    :host(.complete) .tile .hex .stroke {
        stroke: #3f841c; 
        fill: #50ff3c;
    }

    :host(.reserve) .tile .hex .stroke {
        stroke: #287783; 
        fill: #7bdcff;
    }
}

@layer warp {
    .tile.warp--l1 .hex .stroke {
        stroke: #008ddf;
        animation: strokePulse var(--pulse-dur, 3s) ease-in-out infinite;
    }

    .tile.warp--l2 .hex .stroke {
        stroke: #e100ff;
        animation: strokePulse var(--pulse-dur, 3s) ease-in-out infinite;
    }

    .tile.warp--l3 .hex .stroke {
        stroke: #ff0000;
        animation: strokePulse var(--pulse-dur, 3s) ease-in-out infinite;
    }

    @keyframes strokePulse {
        0%, 100% { stroke-width: var(--min-stroke, 5); }
        50%      { stroke-width: var(--max-stroke, 15); }
    }
}

@layer live {
    .tile:hover .stroke { 
        stroke: #ffcc00 !important; 
        fill: #ffe9ae !important; 
    }

    :host(.select) .tile .stroke {
        stroke: #ffcc00 !important; 
        fill: #ffe9ae !important;
    }
}